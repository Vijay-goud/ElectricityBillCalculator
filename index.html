<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bill Calculator</title>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }

      .container {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.15);
        width: 350px;
        text-align: center;
      }

      h1 {
        color: #2b5876;
        font-size: 22px;
        margin-bottom: 15px;
      }

      input {
        width: 90%;
        padding: 10px;
        margin: 8px 0;
        border: 1px solid #ccc;
        border-radius: 10px;
        font-size: 15px;
        text-align: center;
        transition: 0.3s;
      }

      input:focus {
        border-color: #2b5876;
        outline: none;
        box-shadow: 0 0 5px #2b5876;
      }

      button {
        width: 100%;
        padding: 10px;
        background-color: #2b5876;
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        margin-top: 10px;
        cursor: pointer;
        transition: background 0.3s;
      }

      button:hover {
        background-color: #4e4376;
      }

      p {
        background: #f5f5f5;
        margin-top: 10px;
        padding: 10px;
        border-radius: 8px;
        font-weight: 500;
      }

      .highlight {
        background: #e3f2fd;
        color: #0d47a1;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>ðŸ’¡ Electricity Bill Calculator</h1>

      <input id="billElement" placeholder="Total Bill Amount (â‚¹)" />
      <input id="totalUnits" placeholder="Total Units" />
      <input id="LatestMonthReading" placeholder="Latest Month Reading" />
      <input id="previousMonthReading" placeholder="Previous Month Reading" />

      <button onclick="calculateUnits()">Calculate</button>

      <p id="unitRs" class="highlight"></p>
      <p id="unitDifference"></p>
      <p id="result"></p>
      <p id="differenceAmount"></p>
      <p id="EachFloor"></p>
    </div>

    <script>
      let billElement = document.getElementById("billElement");
      let totalUnits = document.getElementById("totalUnits");

      function calculateUnits() {
        let billElementValue = parseFloat(billElement.value);
        let totalUnitsValue = parseFloat(totalUnits.value);
        let LatestMonthReading = parseFloat(
          document.getElementById("LatestMonthReading").value
        );
        let previousMonthReading = parseFloat(
          document.getElementById("previousMonthReading").value
        );

        if (
          isNaN(billElementValue) ||
          isNaN(totalUnitsValue) ||
          isNaN(LatestMonthReading) ||
          isNaN(previousMonthReading)
        ) {
          alert("âš ï¸ Please fill all fields with valid numbers!");
          return;
        }

        // Calculate per unit rate
        let unitsConsumed = billElementValue / totalUnitsValue;
        let decimalPart = unitsConsumed - Math.floor(unitsConsumed);
        unitsConsumed =
          decimalPart > 0.5 ? Math.ceil(unitsConsumed) : Math.floor(unitsConsumed);

        // Reading difference
        let totalReading = LatestMonthReading - previousMonthReading;
        let thirdFloorBill = totalReading * unitsConsumed;

        document.getElementById("unitRs").textContent =
          unitsConsumed + " â‚¹ per unit";

        document.getElementById("unitDifference").textContent =
          "3rd Floor Reading: " + totalReading + " units";

        document.getElementById("result").textContent =
          "3rd Floor Bill: â‚¹" + thirdFloorBill.toFixed(2);

        let differenceOfbill = billElementValue - thirdFloorBill;
        document.getElementById("differenceAmount").textContent =
          "Remaining Amount: â‚¹" + differenceOfbill.toFixed(2);

        // Split among 4 floors
        let EachFloorAmount = differenceOfbill / 4;
        let decimalPart1 = EachFloorAmount - Math.floor(EachFloorAmount);
        EachFloorAmount =
          decimalPart1 > 0.5
            ? Math.ceil(EachFloorAmount)
            : Math.floor(EachFloorAmount);

        document.getElementById("EachFloor").textContent =
          "Each Floor Amount: â‚¹" + EachFloorAmount;
      }
    </script>
  </body>
</html>
